<body>
  <input type="text"></input>
  <button onclick="addTodo()">Add todo!</button>
  <button onclick="deleteLastTodo()">Delete last To do</button>
  <div id="todos"></div>
  <script>
    //State
    let todos = [];
    function addTodo() {
      todos.push({
        title: document.querySelector("input").value
      })
      render();
    }
    function deleteLastTodo(){
      todos.splice(todos.length-1,1);//remove last to do
      //todos.pop();
      render();
    }

   
//  Components
    function createTodoComponent(todo){
      const div=document.createElement("div");;
      const h1 =document.createElement("h1");
      const button =document.createElement("button");
      button.innerHTML="delete";
      //Delete button functionality
      button.onclick= function deleteTodo() {
    todos.pop()
      render();
    };
      h1.innerHTML=todo.title;
      div.append(h1);
      div.append(button);
      return div;
    }
    function render() {
      document.querySelector("#todos").innerHTML="";//First Clear the div
      for(let i=0; i<todos.length; i++){
        const element=createTodoComponent(todos[i]);
        document.querySelector("#todos").appendChild(element);
      }
      
    }
  </script>
</body>